(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/chuckArms.1faa00ea.png"},26:function(e,t,a){e.exports=a.p+"static/media/balloon.d1a8dfeb.png"},29:function(e,t,a){e.exports=a(43)},34:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(22),r=a.n(c),l=(a(34),a(7)),s=a(8),i=a(10),u=a(9),m=a(11),p=a(46),d=a(47),h=a(44),g=a(40),E=a(45),f=(a(12),function(){return o.a.createElement("ul",{className:"right"},o.a.createElement("li",{className:"navbar-link"},o.a.createElement(E.a,{to:"/"},"Random Jokes")),o.a.createElement("li",{className:"navbar-link"},o.a.createElement(E.a,{to:"/topjokes/5"},"Top Jokes")))}),k=function(){return o.a.createElement("nav",{className:"nav-wrapper"},o.a.createElement("div",{className:"container"},o.a.createElement(g.a,{to:"/",className:"brand-logo"},"Chuck'sJokes"),o.a.createElement(f,null)))},v=function(e){var t=e.jokes,a=e.category;return o.a.createElement("div",{className:"jokes-list section"},t&&Object.keys(t).map(function(e){return String(t[e].category)===String(a)?o.a.createElement(g.a,{to:"/joke/"+e,key:e},o.a.createElement("div",{className:"card z-depth-1"},o.a.createElement("div",{className:"card-content grey-text text-darken-3 hoverable"},o.a.createElement("p",{className:"black-text"},t[e].value),o.a.createElement("p",{className:"grey-text right"},"Category: ",t[e].category)))):"--Select--"===String(a)?o.a.createElement(g.a,{to:"/joke/"+e,key:e},o.a.createElement("div",{className:"card z-depth-1"},o.a.createElement("div",{className:"card-content grey-text text-darken-3 hoverable"},o.a.createElement("p",{className:"black-text"},t[e].value),o.a.createElement("p",{className:"grey-text right"},"Category: ",t[e].category)))):null}))},y=a(5),b=a(25),j=a.n(b),O=a(26),S=a.n(O),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).loadJokes=function(){a.props.addJoke()},a.showDropdownMenu=function(e){e.preventDefault(),a.setState({displayMenu:!0},function(){document.addEventListener("click",a.hideDropdownMenu)})},a.hideDropdownMenu=function(){a.setState({displayMenu:!1},function(){document.removeEventListener("click",a.hideDropdownMenu)})},a.handleOnClick=function(e){e.preventDefault(),a.setState({categorySelected:e.target.innerHTML})},a.state={loadingState:!1,displayMenu:!1,categorySelected:"--Select--"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.getCategories()}},{key:"componentDidMount",value:function(){var e=this;this.refs.iScroll.scrollTop=this.refs.iScroll.scrollHeight-2,this.refs.iScroll.addEventListener("wheel",function(){e.refs.iScroll.scrollTop<=0&&(e.setState({loadingState:!0}),e.loadJokes(),e.setState({loadingState:!1}))}),this.refs.iScroll.addEventListener("scroll",function(){e.refs.iScroll.scrollTop+e.refs.iScroll.clientHeight>=e.refs.iScroll.scrollHeight-.001*e.refs.iScroll.scrollHeight&&!e.state.loadingState&&(e.refs.iScroll.scrollTop-=.002*e.refs.iScroll.scrollHeight,e.setState({loadingState:!0}),e.loadJokes(),e.setState({loadingState:!1}))})}},{key:"render",value:function(){var e=this,t=this.props.jokes,a=this.props.categories;return o.a.createElement("div",null,o.a.createElement("div",{className:"dropdown"},o.a.createElement("p",{className:"category-text"},"Filter by category"),o.a.createElement("div",{className:"dropDownButton",id:"dropdownSelected",onClick:this.showDropdownMenu},this.state.categorySelected),this.state.displayMenu&&o.a.createElement("ul",{className:"dropdownList",id:"style-3"},a.map(function(t){return o.a.createElement("li",{className:"list",key:t,onClick:e.handleOnClick},t)}))),o.a.createElement("img",{style:{width:"203px",height:"550px",left:"30px",top:"82px",position:"absolute"},alt:"png",src:j.a}),o.a.createElement("img",{style:{width:"600px",height:"125px",left:"220px",top:"30px",position:"relative"},alt:"png",src:S.a}),o.a.createElement("div",{className:"jokesContainer"},o.a.createElement("div",{className:"scrollbar",id:"style-1",ref:"iScroll"},o.a.createElement("h4",{className:"category-text"},"SCROLL HERE TO LOAD JOKES!"),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"col s12 m10"},o.a.createElement(v,{jokes:t,category:this.state.categorySelected}))))))}}]),t}(n.Component),w=Object(y.b)(function(e){return{jokes:e.jokes,categories:e.categories}},function(e){return{addJoke:function(){return e(function(e){fetch("/getjoke").then(function(e){return e.json()}).then(function(t){return e({type:"ADD_JOKE",joke:t})}).catch(function(t){e({type:"ADD_JOKE_ERROR",err:t})})})},getCategories:function(){return e(function(e){fetch("/getcategories").then(function(e){return e.json()}).then(function(t){return e({type:"GET_CATEGORIES",categories:t.body})}).catch(function(t){e({type:"GET_CATEGORIES_ERROR",err:t})})})}}})(N),T=Object(y.b)(function(e,t){var a=t.match.params.id,n=e.jokes;return{joke:n?n[a]:null}})(function(e){var t=e.joke;return function(e,t){fetch("/savejoke",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,value:t.value,category:t.category,clicks:1})})}(e.match.params.id,t),t?o.a.createElement("div",{className:"container section joke-details"},o.a.createElement("div",{className:"card z-depth-1"},o.a.createElement("div",{className:"card-content"},o.a.createElement("p",null,t.value),o.a.createElement("p",{className:"grey-text right"},"Category: ",t.category))),o.a.createElement("button",{className:"btn waves-effect #80cbc4 teal lighten-3",onClick:function(){return e.history.goBack()},type:"submit",name:"action"},"Back")):o.a.createElement("div",{className:"container center"},o.a.createElement("p",null,"Loading joke..."))}),x=a(13),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=a.componentWillMount.bind(Object(x.a)(Object(x.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.getTop()}},{key:"render",value:function(){var e=this.props.topJokes,t=this.props.numTop;return o.a.createElement("div",{className:"jokesTopContainer"},o.a.createElement("h1",{className:"category-text"},"TOP ",t," JOKES"),e&&e.map(function(e){return o.a.createElement("div",{className:"card z-depth-1",key:e.id},o.a.createElement("div",{className:"card-content grey-text text-darken-3 hoverable"},o.a.createElement("p",{className:"black-text"},e.value),o.a.createElement("p",{className:"grey-text right"},"Clicks: ",e.clicks,", Category: ",e.category)))}))}}]),t}(n.Component),C=Object(y.b)(function(e,t){return{topJokes:e.topJokes,numTop:t.match.params.num}},function(e,t){return{getTop:function(){return e((a=t.match.params.num,function(e){fetch("/gettop").then(function(e){return e.json()}).then(function(t){return e({type:"GET_TOP",topJokes:t,numTop:a})}).catch(function(t){e({type:"TOP_JOKE_ERROR",err:t})})}));var a}}})(J),R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Navbar"},o.a.createElement(k,null),o.a.createElement(d.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:w}),o.a.createElement(h.a,{path:"/topjokes/:num",component:C}),o.a.createElement(h.a,{path:"/joke/:id",component:T})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(6),_={},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_JOKE":var a=t.joke.body.category;return null===a&&(a="none"),e[t.joke.body.id]={value:t.joke.body.value,category:a},e;case"ADD_JOKE_ERROR":console.log("add joke error",t.err);break;default:return e}},A=[],L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOP":var a=Object.values(JSON.parse(t.topJokes)).sort(function(e,t){return t.clicks-e.clicks});return e.topJokes=a.slice(0,t.numTop),e.topJokes;case"TOP_JOKE_ERROR":console.log("Error getting top jokes",t.err);break;default:return e}},G=a(28),K=[],H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return["--Select--"].concat(Object(G.a)(t.categories));default:return e}},P=Object(D.c)({categories:H,jokes:M,topJokes:L}),W=a(27),B=Object(D.d)(P,Object(D.a)(W.a));r.a.render(o.a.createElement(y.a,{store:B},o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.2022c544.chunk.js.map